<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body style="background-color: white">
<div class="divhead">
  <h3 style="color: rgba(72,78,87,0.86);text-shadow: 2px 2px 4px #000000">Search Employee</h3>
</div>
<!--<div class="divsearch">-->
<div class="container">
  <div id="custom-search-input">
    <div class="input-group col-md-12">
      <input  type="text" class="form-control input-lg" placeholder="enter employee name or employee id" [(ngModel)] ="empId" />
      <span class="input-group-btn">
                        <button class="btn btn-info btn-lg" type="button" (click)="searchEmployee(empId)">
                            <i class="glyphicon glyphicon-search"></i>
                        </button>
                    </span>
    </div>
  </div>
</div>
  <!--<input style="width: 320px;float: left;margin-left: 20%" class="form-control" placeholder="enter employee name or employee id" type="text" [(ngModel)] ="empId">-->
  <!--<button style="float: left" class="btn btn-primary" type="submit"(click)="searchEmployee(empId)">search employee</button>-->
  <!--<button class="btn btn-primary" type="submit" (click)="goToAdminPage()">go to admin page</button>-->
<!--</div>-->
<p *ngIf="error" style="text-align: center;color: red">employee not found..!!</p>
<div *ngIf="success"  class="container">
  <h4> <strong style="color: rgba(150,66,124,0.85)">click on the employee to his/her leave list</strong></h4>

  <table class="table table-hover">
    <tr>
      <td><b>Name of Employee</b></td>
      <td><b>empID</b></td>
      <td><b>availed_leaves</b></td>
      <td><b>bal_in_sick</b></td>
      <td><b>bal_in_casual</b></td>
      <td><b>bal_in_privilege</b></td>
      <td><b>total_bal_leaves</b></td>
    </tr>

    <tr *ngFor="let emp of emp_id" (click)="getEmpLeaveList(emp.emp_id,emp.fullName)">
      <td>{{emp.fullName}}</td>
      <td>{{emp.emp_id}}</td>
      <td>{{emp.availed_leaves}}</td>
      <td>{{emp.bal_in_sick}}</td>
      <td>{{emp.bal_in_casual}}</td>
      <td>{{emp.bal_in_privilege}}</td>
      <td>{{emp.total_bal_leaves}}</td>
    </tr>

  </table>
  <!--<button class="btn btn-primary" type="submit" (click)="getEmpLeaveList(emp_id.emp_id)" >employee Leaves List</button>-->
  <div *ngIf="successForList" class="container">
    <!--*ngIf="empLeaveList.leaveID"-->
    <h3>
      <strong style="color: rgba(235,65,182,0.65)">{{nameOfEmp}}</strong>
        's leave list
    </h3>
    <table class="table table-hover">
      <tr>
        <td><b>leaveId</b></td>
        <td><b>leave_type</b></td>
        <td><b>date_of_leave</b></td>
        <td><b>no_of_days</b></td>
        <td><b>reason</b></td>
        <td><b>team_lead_status</b></td>
        <td><b>proj_man_status</b></td>
        <td><b>hr_status</b></td>
        <td><b>applied_date</b></td>
      </tr>
  <tr *ngFor="let empList of empLeaveList">

      <td>{{empList.leaveID}}</td>
      <td>{{empList.leave_type}}</td>
      <td>{{empList.date_of_leave}}</td>
      <td>{{empList.no_of_days}}</td>
      <td>{{empList.reason}}</td>
      <td>{{empList.team_lead_status}}</td>
      <td>{{empList.proj_man_status}}</td>
      <td>{{empList.hr_status}}</td>
      <td>{{empList.applied_date}}</td>

  </tr>
    </table>
  </div>
</div>
</body>
</html>

